课堂测验：

A 输出字符串中的元音

```
#include <stdio.h>
#include <string.h>

void extractVowels(char *src, char *dest) {
    int i = 0, j = 0;
    while (src[i] != '\0') {
        if (src[i] == 'a' || src[i] == 'e' || src[i] == 'i' || src[i] == 'o' || src[i] == 'u') {
            dest[j++] = src[i]; 
        }
        i++;
    }
    dest[j] = '\0'; 
}

int main() {
    char input[1000];  
    char vowels[1000]; 
    
    fgets(input, sizeof(input), stdin);
    input[strcspn(input, "\n")] = '\0';
    extractVowels(input, vowels);
    
    printf("%s\n", vowels);
    
    return 0;
}
```

B 亲和数

```
#include<stdio.h>
#include<string.h>

int getSum(int a) {
	if(a == 0) return 0;
	
	int res = 1;
	
	for(int i = 2; i < a; i++) {
		if(a % i == 0) res += i;
	}
	
	return res;
}

int check(int a, int b)
{
	if(a == b) return 0;
	
	if(getSum(a) == b && getSum(b) == a) {
		return 1;
	} else {
		return 0;
	}
}

int main()
{
	int t;
	scanf("%d", &t);
	
	while(t--)
	{
		int a, b;
		scanf("%d %d", &a, &b);
		
		if(check(a, b)) {
			printf("YES\n");
		} else {
			printf("NO\n");
		}
	}
	 
	return 0;
}
```

C 最长单词

```
#include<stdio.h>
#include<string.h>

void MaxLenWord(char s[]) {
	int len = strlen(s);
	
	if(len == 0) return;
	
	int curLen = 0;
	int maxLen = 0;
	
	
	for(int i = 0; i < len; i++) {
		if(s[i] != ' ') {
			curLen++;
		} else {
			maxLen = (curLen > maxLen) ? curLen : maxLen;
			curLen = 0;
		}
	} 
	
	maxLen = (curLen > maxLen) ? curLen : maxLen;
	
	char res[1001];
	int cnt = 0;
	int first = 1;
	curLen = 0;

	for(int i = 0; i < len; i++) {
		if(s[i] != ' ') {
			curLen++;
			res[cnt++] = s[i];
		} else {
			if(curLen == maxLen) {
				res[cnt] = '\0';
				if(!first) printf(" ");
				printf("%s", res);
				first = 0;
			} 
			cnt = 0;
			curLen = 0;
		}
	}
	
	if(curLen == maxLen) {
		res[cnt] = '\0';
		if(!first) printf(" ");
		printf("%s", res);
	}
	
	printf("\n");
}

int main()
{
	int t;
	scanf("%d", &t);
	
	getchar();
	
	while(t--)
	{
		char s[1001];
		int cnt = 0;
		
		char c;
		 
		while((c = getchar()) != '\n') {
			s[cnt++] = c;
		}	
		s[cnt] = '\0';
		
		MaxLenWord(s);
	}
	 
	return 0;
}
```

D LELE的RPG难题

```

```



课后作业：

A求和

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<math.h>

int fact(int n) {
    int d=1;
    for (int i=1;i<=n;i++) {
        d*=i;
    }
    return d;
}

double get_n(int n) {
    double sum=0;;
    for (int i=1;i<=n;i++) {
        sum+=1.0/fact(i);
    }
    return sum;
}
int main() {
    int n;
    scanf("%d",&n);
    double ans=get_n(n);
    printf("%.4lf",ans);
    return 0;
}
```

B 数字转字符串

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<math.h>

int fact(int n) {
    int d=1;
    for (int i=1;i<=n;i++) {
        d*=i;
    }
    return d;
}

double get_n(int n) {
    double sum=0;;
    for (int i=1;i<=n;i++) {
        sum+=1.0/fact(i);
    }
    return sum;
}
void get_str(int n) {
    int list[10],index=0;
    for (int i=0;i<4;i++) {
        list[i]=n%10;
        n/=10;
    }
    for (int i=3;i>=0;i--) {
        printf("%c",list[i]+'0');
        if (i!=0) {
            printf(" ");
        }
    }
}
int main() {
    int n;
    scanf("%d",&n);
    get_str(n);
    return 0;
}
```

C数值转换

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<math.h>

int fact(int n) {
    int d=1;
    for (int i=1;i<=n;i++) {
        d*=i;
    }
    return d;
}

double get_n(int n) {
    double sum=0;;
    for (int i=1;i<=n;i++) {
        sum+=1.0/fact(i);
    }
    return sum;
}
void get_str(int n) {
    int list[10],index=0;
    for (int i=0;i<4;i++) {
        list[i]=n%10;
        n/=10;
    }
    for (int i=3;i>=0;i--) {
        printf("%c",list[i]+'0');
        if (i!=0) {
            printf(" ");
        }
    }
}
long change(char s[]) {
    int len=strlen(s);
    long sum=0;
    for (int i=0;i<len;i++) {
        sum*=16;
        if (s[i]>='0' && s[i]<='9') {
            sum+=s[i]-'0';
        }
        else {
            sum+=s[i]-'A'+10;
        }
    }
    return sum;
}





int main()
{
    int t,ans;
    char nums[100];
    scanf("%d",&t);
    while(t--) {
        scanf("%s",&nums);
        ans=change(nums);
        printf("%ld\n",ans);
    }
    return 0;
}
```

D最长公共子串

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<math.h>

int fact(int n) {
    int d=1;
    for (int i=1;i<=n;i++) {
        d*=i;
    }
    return d;
}

double get_n(int n) {
    double sum=0;;
    for (int i=1;i<=n;i++) {
        sum+=1.0/fact(i);
    }
    return sum;
}
void get_str(int n) {
    int list[10],index=0;
    for (int i=0;i<4;i++) {
        list[i]=n%10;
        n/=10;
    }
    for (int i=3;i>=0;i--) {
        printf("%c",list[i]+'0');
        if (i!=0) {
            printf(" ");
        }
    }
}
void get_n_str(char ori[],int index1,int index2,char get[]) {
    int index=0;
    for (int i=index1;i<index2;i++) {
        get[index]=ori[i];
        index++;
    }
    get[index]='\0';
}
void get_long_same(char a[],char b[],char to_get[]) {
    int len_1=strlen(a),index=0;
    int len_2=strlen(b);
    for (int i=0;i<len_1;i++) {
        for (int j=0;j<len_2;j++) {
            if (a[i]==b[j]) {
                char str_1;
            }
        }
    }
}


#define MAX_LEN 101

// 找出两个字符串的最长公共子串
void longestCommonSubstring(char *str1,  char *str2, char *result) {
    int len1 = strlen(str1);
    int len2 = strlen(str2);
    int index_point=0,len=0;
    for (int i=0;i<len1;i++) {
        int index=0;
        int state=0;
        for (int j=0;j<len2;j++) {

            if (state==0) {
                if (str1[i]==str2[j]) {
                    state=1;//printf("find same %d\n",i);
                    index++;
                }
            }
            else if (state==1){
                if (str1[i+index]!=str2[j]) {
                    if (index>=len) {
                        index_point=i;
                        len=index;
                        //printf("%d %d\n",i,len);
                    }
                    break;
                }
                else {index++; //printf("%d ",index+i);
                    }
            }
        }
    }
    //printf("%d %d",index_point,len);
    for (int ind=0;ind<=len;ind++) {
        result[ind]=str1[index_point+ind-1];
    }
    result[len+1]='\0';
}

int main() {
    char str1[MAX_LEN];
    char str2[MAX_LEN];
    char result[MAX_LEN];

    // 读取两个字符串
    gets(str1);
    gets(str2);

    // 找出最长公共子串
    longestCommonSubstring(str1, str2, result);

    // 输出结果
    printf("%s\n", result);

    return 0;
}
```

E统计字符串中各种字符

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<math.h>

int fact(int n) {
    int d=1;
    for (int i=1;i<=n;i++) {
        d*=i;
    }
    return d;
}

double get_n(int n) {
    double sum=0;;
    for (int i=1;i<=n;i++) {
        sum+=1.0/fact(i);
    }
    return sum;
}
void get_str(int n) {
    int list[10],index=0;
    for (int i=0;i<4;i++) {
        list[i]=n%10;
        n/=10;
    }
    for (int i=3;i>=0;i--) {
        printf("%c",list[i]+'0');
        if (i!=0) {
            printf(" ");
        }
    }
}
void num(char str[],int ans[]) {
    int a=0,b=0,c=0,d=0;//字母、数字、空格和其它字符
    for (int i=0;i<strlen(str);i++) {
        if (str[i]>='A' && str[i]<='Z' || str[i]>='a' && str[i]<='z') {a++;}
        else if (str[i]>='0' && str[i]<='9') {b++;}
        else if (str[i]==' ') {c++;}
        else  {d++;}
    }
    ans[0]=a;ans[1]=b;ans[2]=c;ans[3]=d;
}





int main()
{
    char input[100];
    gets(input);
    int ans[5];
    num(input,ans);
    for (int i=0;i<4;i++) {
        printf("%d ",ans[i]);
    }
}
```

F 填空 整数转字符串

```
#include <stdio.h>
#include <string.h>
#include <math.h>
#define SIZE 10

//请补充itostr函数的实现
void itostr(int num, char str[])
{


/********** Write your code here! **********/
    // 处理0的特殊情况
    if (num == 0) {
        str[0] = '0';
        str[1] = '\0';
        return;
    }
    
    // 处理负数
    if (num < 0) {
        str[0] = '-';
        // 处理最小负数 -2147483648
        if (num == -2147483648) {
            // 直接赋值字符串，确保不超出SIZE限制
            str[1] = '2'; str[2] = '1'; str[3] = '4'; 
            str[4] = '7'; str[5] = '4'; str[6] = '8'; 
            str[7] = '3'; str[8] = '6'; str[9] = '4'; 
            str[10] = '8'; str[11] = '\0'; // 注意这里超出了SIZE=10
            return;
        }
        // 对于其他负数，转换为正数递归处理
        num = -num;
        // 递归处理正数部分，结果存放在str+1的位置
        itostr(num, str+1);
        return;
    }
    
    // 处理正数：递归基（只有一位数字）
    if (num < 10) {
        str[0] = num + '0';
        str[1] = '\0';
        return;
    }
    
    // 递归处理高位数字
    itostr(num/10, str);
    int len = 0;
    while (len < SIZE-1 && str[len] != '\0') {
        len++;
    }
    // 在字符串末尾添加当前位数字
    if (len < SIZE-1) {
        str[len] = (num % 10) + '0';
        str[len+1] = '\0';
    }
/*******************************************/

}

int main()
{
    int t,num;
    char str[SIZE];

    scanf("%d",&t);
    while(t--)
    {
     	memset(str, '0', sizeof(str));
        scanf("%d", &num);
        itostr(num,str);
        printf("%s\n",str);
    }
}
```

G填空 整数合并

```
#include<stdio.h>
int comb(int a, int b);
int comb(int a, int b) {
    int a1=a/10,a2=a%10,b1=b/10,b2=b%10;
    int sum=a2*10*10*10+b2*10*10+a1*10+b1;   //a的十位和个位数依次放在结果的十位和千位上， b的十位和个位数依次放在结果的个位和百位上
    return sum;
}


int main() {
	int number1, number2, result;
	scanf("%d %d", &number1, &number2);
	result = comb(number1,number2);
	printf("%d", result);
	return 0;
}
```

H 上车人数 

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<math.h>

int fact(int n) {
    int d=1;
    for (int i=1;i<=n;i++) {
        d*=i;
    }
    return d;
}

double get_n(int n) {
    double sum=0;;
    for (int i=1;i<=n;i++) {
        sum+=1.0/fact(i);
    }
    return sum;
}
void get_str(int n) {
    int list[10],index=0;
    for (int i=0;i<4;i++) {
        list[i]=n%10;
        n/=10;
    }
    for (int i=3;i>=0;i--) {
        printf("%c",list[i]+'0');
        if (i!=0) {
            printf(" ");
        }
    }
}
void get_n_str(char ori[],int index1,int index2,char get[]) {
    int index=0;
    for (int i=index1;i<index2;i++) {
        get[index]=ori[i];
        index++;
    }
    get[index]='\0';
}


int a_add(int d) {
    if (d==1)return 1;
    else if (d==2)return 0;
    else if (d==3)return 1;
    else if (d==4)return 0;
    else return a_add(d-1)+a_add(d-2);
}
int sth_add(int d) {
    if (d<=3)return 0;
    else if (d<=5){return 1;
    }else {
        return sth_add(d-1)+sth_add(d-2);
    }
}
int main()
{
    int a,n,m,x;
    int nad_a=0,nad_s=0;
    scanf("%d %d %d %d",&a,&n,&m,&x);
    for (int i=1;i<n;i++) {
        nad_a+=a_add(i);
        nad_s+=sth_add(i);
    }
    int sth=(m-nad_a*a)/nad_s;
    int sum=0;
    for (int i=1;i<=x;i++) {
        sum+=a_add(i)*a+sth_add(i)*sth;
    }
    printf("%d",sum);
}
```
